knitr::opts_chunk$set(echo = TRUE)
knitr::opts_knit$set(root.dir = "~/Documents/Lab/chromatography/standards/")
library(ggrepel)
library(tidyverse)
gibson <- function(sample.list, vector.list, insert.conc, insert.len, vec.conc, vec.len, molar.ratio, final.vol, vec.mass=NULL){
if(is.null(vec.mass)){
writeLines(c("--------------------------------------------------------",
"Assuming the desired vector mass is 50 ng",
"--------------------------------------------------------",
""))
dat <- data.frame(sample = sample.list,
vector = vector.list)
dat <- dat %>%
dplyr::mutate(pmol.vec = (50*1000)/(vec.len*650),
vol.vec = 50/vec.conc,
pmol.insert = pmol.vec*molar.ratio,
mass.insert = (pmol.insert*(insert.len*650))/1000,
vol.insert = mass.insert/insert.conc,
vol.water = final.vol - (vol.vec+vol.insert),
vol.mix = final.vol) %>%
dplyr::select(sample, vector, vol.vec, vol.insert, vol.water, vol.mix)
return(dat) }
else{
dat <- data.frame(sample = sample.list,
vector = vector.list)
dat <- dat %>%
dplyr::mutate(pmol.vec = (vec.mass*1000)/(vec.len*650),
vol.vec = vec.mass/vec.conc,
pmol.insert = pmol.vec*molar.ratio,
mass.insert = (pmol.insert*(insert.len*650))/1000,
vol.insert = mass.insert/insert.conc,
vol.water = final.vol - (vol.vec+vol.insert),
vol.mix = final.vol) %>%
dplyr::select(sample, vector, vol.vec, vol.insert, vol.water, vol.mix)
return(dat) } }
gibson(sample.list = c("EFP operon", "EFP operon"),
vector.list = c("pGB9-F6", "pGB9"),
insert.conc = c(315, 315),
insert.len = c(2700, 2700),
vec.conc = c(14.5,12.4),
vec.len = c(7500,5500),
vec.mass = 50,
molar.ratio = 3,
final.vol = 5)
library(devtools)
library(roxygen2)
devtools::document()
devtools::install()
devtools::document()
devtools::install()
